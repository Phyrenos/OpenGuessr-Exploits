import requests, json

def read_config_file(file_path):
    with open(file_path, 'r') as file:
        config = json.load(file)
    return config

config = read_config_file('config.json')

class CompSploit:

    def __init__(self) -> None:
        self.roomcode = int(input("Enter the room code (1061): "))
        self.username = input("Enter Fake username: ")
        self.score = int(input("Enter the score: "))
        self.Accountid = config['account_id']
        self.BearerToken = config['bearer_token']
        
        self.CompSploit()

    def CompSploit(self):
        rq = requests.post(f"https://competitions.openguessr.com/competitions/submit/{self.roomcode}", headers={"Authorization": self.BearerToken, "Content-Type": "application/json"}, json={"username": self.username, "id": self.Accountid, "score": self.score, "supporter_level": 4})
        if rq.json()['status'] == 201:
            print(f"Successfully submitted score {self.score} as {self.username} to room {self.roomcode}")
        else:
            print(rq.text)
CompSploit()